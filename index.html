<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strona Główna</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            font-family: 'Press Start 2P', sans-serif; /* Retro czcionka */
            background: #222 url('images/retro-bg.png') no-repeat center center fixed; /* Tło retro */
            background-size: cover;
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        /* Kontener animacji */
        #animation {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80vw;
            height: auto;
            max-height: 80vh;
            overflow: hidden;
            z-index: 0;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.8); /* Cień dla efektu 3D */
            border: 4px solid #f8b400;
            border-radius: 10px;
        }

        #animation img {
            width: 100%;
            height: auto;
            display: none;
        }

        #animation img.active {
            display: block;
            animation: fadeIn 0.5s ease-in-out; /* Efekt wczytywania */
        }

        /* Efekt animacji wczytywania */
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        /* Styl przycisku */
        .button-49 {
            width: 200px;
            height: 50px;
            line-height: 50px;
            font-size: 18px;
            font-family: 'Press Start 2P', sans-serif;
            text-transform: uppercase;
            background: linear-gradient(45deg, #e20b0b, #554646);
            color: #ffffff;
            border: 2px solid #e20b0b;
            border-radius: 5px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
            box-shadow: 0 4px #f8b400;
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1;
        }

        /* Efekt przycisku */
        .button-49:hover {
            background: linear-gradient(45deg, #f8b400, #554646);
            box-shadow: 0 6px #e20b0b;
            transform: scale(1.05);
        }

        .button-49:active {
            box-shadow: 0 2px #e20b0b;
            transform: translateY(4px);
        }

        /* Responsywność */
        @media (min-width: 768px) {
            #animation {
                width: 60vw;
            }
            .button-49 {
                width: 220px;
                height: 60px;
                line-height: 60px;
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <div id="animation">
        <img src="images/gify/klatka1.png" alt="frame 1">
        <img src="images/gify/klatka2.png" alt="frame 2">
        <img src="images/gify/klatka3.png" alt="frame 3">
        <img src="images/gify/klatka4.png" alt="frame 4">
        <img src="images/gify/klatka5.png" alt="frame 5">
        <img src="images/gify/klatka6.png" alt="frame 6">
        <img src="images/gify/klatka7.png" alt="frame 7">
        <img src="images/gify/klatka8.png" alt="frame 8">
        <img src="images/gify/klatka9.png" alt="frame 9">
        <img src="images/gify/klatka10.png" alt="frame 10">
        <img src="images/gify/klatka11.png" alt="frame 11">
        <img src="images/gify/klatka12.png" alt="frame 12">
        <img src="images/gify/klatka13.png" alt="frame 13">
        <img src="images/gify/klatka14.png" alt="frame 14">
        <img src="images/gify/klatka15.png" alt="frame 15">
        <img src="images/gify/klatka16.png" alt="frame 16">
        <img src="images/gify/klatka17.png" alt="frame 17">
        <img src="images/gify/klatka18.png" alt="frame 18">
        <img src="images/gify/klatka19.png" alt="frame 19">
        <img src="images/gify/klatka20.png" alt="frame 20">
        <img src="images/gify/klatka21.png" alt="frame 21">
        <img src="images/gify/klatka22.png" alt="frame 22">
        <img src="images/gify/klatka23.png" alt="frame 23">
        <img src="images/gify/klatka24.png" alt="frame 24">
        <img src="images/gify/klatka25.png" alt="frame 25">
    </div>
    <button class="button-49" role="button" onclick="goToIndex()">Graj</button>

    <script>
        let currentFrame = 0;
        const frames = document.querySelectorAll('#animation img');
        let animationInterval;

        function showNextFrame() {
            frames[currentFrame].classList.remove('active');
            currentFrame++;

            if (currentFrame < frames.length) {
                frames[currentFrame].classList.add('active');
            } else {
                currentFrame = frames.length - 1; // Ustaw na ostatnią klatkę
                frames[currentFrame].classList.add('active'); // Pokaż ostatnią klatkę
                clearInterval(animationInterval); // Zatrzymaj animację na ostatniej klatce
                return;
            }

            // Ustawienia interwałów
            const intervalDuration = (currentFrame >= frames.length - 3) ? 500 : 100; // 500 ms dla ostatnich 3 klatek, 100 ms dla pozostałych
            clearInterval(animationInterval);
            animationInterval = setInterval(showNextFrame, intervalDuration); // Zmieniaj klatki
        }

        function goToIndex() {
            // Przejdź do index1.html
            window.location.href = 'level1.html';
        }

        // Rozpocznij animację na załadowanie strony
        window.onload = function() {
            frames[0].classList.add('active'); // Wyświetl pierwszą klatkę
            animationInterval = setInterval(showNextFrame, 100); // Rozpocznij animację
        };
    </script>
</body>
</html>
